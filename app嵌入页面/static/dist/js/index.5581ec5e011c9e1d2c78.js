!function(t){function e(a){if(o[a])return o[a].exports;var r=o[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,a){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="dist/",e(e.s=0)}([function(t,e,o){"use strict";function a(){u({url:URL_API+"customer/queryStatisticalAnalysisByCustomerId",param:{token:c}}).then(function(t){var e=t.aaData;p=e,$("#customerHeadPic").attr({src:URL_IMG+e.customerHeadPic}),$("#customerInfoName").text(e.customerInfo.name),$("#productcollectionCount").text(e.productcollectionCount),$("#orderCount7Days").text(e.orderCount7Days),$("#orderTotalAmount7Days").text(e.orderTotalAmount7Days.toFixed(2)),$("#orderSubmitRadio7Days").text(e.orderSubmitRadio7Days.toFixed(2)+"%"),$("#saleSKUAllCount").text(e.saleSKUAllCount),$("#saleSKURadio30Days").text(e.saleSKURadio30Days.toFixed(2)),$("#yestodayOrderCount").text(e.yestodayOrderCount),$("#yestodayOrderTotalAmount").text(e.yestodayOrderTotalAmount.toFixed(2));for(var o=0;o<e.storeScore.length;o++)$("#reviewName_"+o).text(e.storeScore[o].reviewName),$("#typeScore_"+o).text(e.storeScore[o].typeScore);e.salesSKUSortForWeek=e.salesSKUSortForWeek.splice(0,3);var a="";e.salesSKUSortForWeek.length>=0&&$("#weekList").css({display:"block"});for(var r=0;r<e.salesSKUSortForWeek.length;r++){var s="一";0==r?s="一":1==r?s="二":2==r&&(s="三");a+='<div class="content">\n\t\t\t\t<ul>\n\t\t\t\t\t<li>第'+s+"：<span>"+e.salesSKUSortForWeek[r].productName+"&nbsp;("+e.salesSKUSortForWeek[r].skuName+")</span></li>\n\t\t\t\t\t<li>"+e.salesSKUSortForWeek[r].saleTotal+"&nbsp;<span class='unit'>"+e.salesSKUSortForWeek[r].measureName+"</span></li>\n\t\t\t\t</ul>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>销售金额占比</li>\n\t\t\t\t\t<li>"+(e.salesSKUSortForWeek[r].saleAmountTotal/e.orderTotalAmount7Days*100).toFixed(2)+"%</li>\n\t\t\t\t</ul>\n\t\t\t</div>"}$("#salesSKUSortForWeek").html(a),(e.OrderTotalByPayTypeLastDay||e.OrderTotalByPayTypeLastMonth||e.OrderTotalByPayTypeLastWeek)&&($("#zfMoneyHeader").css({display:"block"}),n())})}function r(){var t="近一周",e=d(6),o=d(0);$(".order_header ul li").click(function(){$(".order_header ul li").css({color:"#848484",borderBottom:"none"}),$(this).css({color:"#C5092C",borderBottom:"0.04rem solid #C5092C"}),t=$(this).html(),o=d(0),"近一周"==t?e=d(6):"近半月"==t?e=d(14):"近一月"==t&&(e=d(29)),l(e,o)}),l(e,o)}function n(){var t="昨日",e=p.OrderTotalByPayTypeLastDay.aaData;$(".zf_money_header ul li").click(function(){$(".zf_money_header ul li").css({color:"#848484",borderBottom:"none"}),$(this).css({color:"#C5092C",borderBottom:"0.04rem solid #C5092C"}),t=$(this).html(),"昨日"==t?e=p.OrderTotalByPayTypeLastDay.aaData:"近7日"==t?e=p.OrderTotalByPayTypeLastWeek.aaData:"近30日"==t&&(e=p.OrderTotalByPayTypeLastMonth.aaData),s(e)}),s(e)}function s(t){for(var e="",o=0;o<t.length;o++){e+="<ul><li>"+t[o].payType+"</li><li>"+t[o].orderCount+"</li><li>"+t[o].orderTotalAmount+"</li></ul>"}e+='<div class="notice">*注：该表的统计范围为截止昨日22点30分已支付的订单。</div>',$("#orderList").html(e)}function l(t,e){u({url:URL_API+"order/getOrderSum",param:{startTime:t,endTime:e,sellerId:y,token:c}}).then(function(t){t.aaData.length>0&&i(t.aaData)})}function i(t){for(var e=[],o=[],a=[],r=0;r<t.length;r++){var n=t[r].orderDate.split("-");0==n[1][0]&&(n[1]=n[1][1]),0==n[2][0]&&(n[2]=n[2][1]),e.push(n[1]+"/"+n[2]),o.push(t[r].orderCount),a.push(t[r].orderTotal)}f.setOption({grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{data:e},series:[{name:"数量",data:o},{name:"金额",data:a}]})}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url,o=t.param,a=t.type;return a="post"==a||"get"==a?a:"post",new Promise(function(t,r){$.ajax({type:a,url:e,async:!0,data:o,success:function(e){e.success?t(e):alert(e.msg)}})})}function d(t){var e=new Date;e.setDate(e.getDate()-t);var o=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();return o+"-"+(a<10?"0"+a:a)+"-"+(r<10?"0"+r:r)}o(1);var c="",y="",m=window.location.search,p={};m&&m.indexOf("?")>=0&&(c=m.slice(1).split("&")[0],y=m.slice(1).split("&")[1]);var f=echarts.init(document.getElementById("orderChart")),h={title:{text:""},legend:{data:[{name:"数量"},{name:"金额"}],x:"center",show:!0},grid:{bottom:"3%"},xAxis:{boundaryGap:!1,data:[]},yAxis:[{type:"value",position:"right",name:"数量(单)"},{type:"value",name:"金额(元)",position:"left",axisLabel:{formatter:"{value}"},splitLine:{show:!1},axisTick:{show:!0}}],series:[{name:"数量",type:"line",data:[]},{name:"金额",type:"line",yAxisIndex:1,data:[],itemStyle:{normal:{color:"rgb(255,162,38)"}}}]};f.setOption(h),function(){a(),r()}()},function(t,e){}]);